<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

    <title>Proof of concept</title>
</head>

<body>
    <div class="container">

        <h1 style="text-align: center;">Issue Log</h1>
        <div class="row">

            

        </div>

    </div>



    <script>

        $(document).ready(function () {
            test();
            function test() {
                $.ajax({
                    url: 'https://blockchain.info/ticker',
                    type: 'GET',
                    success: function (obj) {

                        console.log(obj.USD.last)
                        for (let i in obj) {
                            // console.log(i);
                            // console.log(i['last']);
                            console.log(obj[i].last);
                            console.log(i.last);

                            $('.row').append(
                                $(`<canvas> </canvas>`).attr('id', i).attr('class', 'col-5'));


                            let appChart = i;
                            appChart = document.getElementById(i).getContext('2d');
                            console.log(appChart);


                            let chart = new Chart(appChart, {
                                type: 'doughnut',
                                data: {
                                    labels: ['Fatal', 'Error', 'Warn' ],
                                    datasets: [{
                                        backgroundColor: ["#0b9730", "#f0e00b", '#ff68df'],
                                        data: [obj[i].last, obj[i].buy, obj[i].sell]
                                    }]
                                },
                                options: {}
                            });


                        }

                    }
                })

            }

        })


    </script>


</body>

</html>